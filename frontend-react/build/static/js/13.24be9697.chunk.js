(this.webpackJsonpBookstagram=this.webpackJsonpBookstagram||[]).push([[13],{236:function(e,t,s){"use strict";var c=s(62),a=s.n(c),o=localStorage.getItem("userToken"),i=a.a.create({baseURL:"http://40.80.95.65/store",headers:{Authorization:"token "+o}});t.a=i},237:function(e,t,s){"use strict";var c=s(2),a=(s(0),s(25)),o=s(7),i=s(63);t.a=Object(o.i)((function(){var e=localStorage.getItem("userType");return Object(c.jsxs)("div",{class:"sidebar",children:[Object(c.jsx)("div",{class:"brand-logo",children:Object(c.jsx)("a",{href:"index.html",children:Object(c.jsx)("img",{src:i.a,alt:"logo",height:"75px",width:"75px"})})}),Object(c.jsxs)("div",{class:"menu",children:["reader"==e?Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/home","data-toggle":"tooltip","data-placement":"right",title:"Home",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-ui-home"})})})}),Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/my-books","data-toggle":"tooltip","data-placement":"right",title:"My book Shelf",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-library"})})})}),Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/book-list","data-toggle":"tooltip","data-placement":"right",title:"List Of Books",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-book"})})})}),Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/my-friends","data-toggle":"tooltip","data-placement":"right",title:"My Friends",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-ui-user-group"})})})}),Object(c.jsx)("li",{class:"logout",children:Object(c.jsx)("a",{href:"signin.html","data-toggle":"tooltip","data-placement":"right",title:"Signout",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-power"})})})})]}):Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/","data-toggle":"tooltip","data-placement":"right",title:"Home",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-ui-home"})})})}),Object(c.jsx)("li",{children:Object(c.jsx)(a.b,{to:"/uploadbook","data-toggle":"tooltip","data-placement":"right",title:"upload a book",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-library"})})})}),Object(c.jsx)("li",{class:"logout",children:Object(c.jsx)("a",{href:"signin.html","data-toggle":"tooltip","data-placement":"right",title:"Signout",children:Object(c.jsx)("span",{children:Object(c.jsx)("i",{class:"icofont-power"})})})})]}),Object(c.jsxs)("p",{class:"copyright",children:["\xa9 ",Object(c.jsx)("a",{href:"#",children:"Bookstagram INC"})]})]})]})}))},239:function(e,t,s){"use strict";s.p},240:function(e,t,s){"use strict";var c=s(19),a=s(2),o=s(0),i=s.n(o),n=s(34),l=(s(239),s(237)),r=s(15),j=s(25),d=s(236),b=s(45);Object.size=function(e){var t,s=0;for(t in e)e.hasOwnProperty(t)&&s++;return s};t.a=function(){JSON.parse(localStorage.getItem("userData"));var e=Object(o.useState)([]),t=Object(c.a)(e,2),s=t[0],h=t[1],O=Object(o.useState)(!1),u=Object(c.a)(O,2),m=u[0],x=u[1],g=Object(o.useState)(),p=Object(c.a)(g,2),f=(p[0],p[1]),N=Object(o.useState)(),v=Object(c.a)(N,2),k=v[0],S=v[1],w=Object(o.useState)(!1),y=Object(c.a)(w,2),C=y[0],B=y[1],I=Object(n.b)(),F=(Object(n.c)((function(e){return e})),localStorage.getItem("dp")),P=localStorage.getItem("email");Object(o.useEffect)((function(){void 0!=localStorage.getItem("notification")?S(localStorage.getItem("notification")):S(0),J()}),[k]);var J=function(){var e=localStorage.getItem("userId");d.a.get("/userfeed/?pk="+e,{notify_type:"Ticker Notification"}).then((function(e){200===e.status&&(console.log("Response",Object.size(e.data)),h(e.data),b.a.success("User Books Fetch Successful",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),console.log("Notify",k),localStorage.setItem("notification",Object.size(e.data)-k)})).catch((function(e){f(e),console.error("Error",e),f("This Books Fetch Failed")}))};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-xxl-12",children:Object(a.jsxs)("div",{className:"header-content",children:[Object(a.jsxs)("div",{className:"header-right",children:[Object(a.jsx)("div",{className:"brand-logo",children:Object(a.jsxs)("a",{href:"index.html",children:[Object(a.jsx)("img",{src:"./images/logo.png",alt:""}),Object(a.jsx)("span",{children:"Bookstagram"})]})}),Object(a.jsx)("div",{className:"search",children:Object(a.jsx)("form",{action:"#",children:Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Here"}),Object(a.jsx)("span",{className:"input-group-text",children:Object(a.jsx)("i",{className:"icofont-search"})})]})})})]}),Object(a.jsxs)("div",{className:"header-right",children:[Object(a.jsxs)("div",{className:"dark-light-toggle",onclick:function(){return console.log("Toggle Clicked")},children:[Object(a.jsx)("span",{className:"dark",children:Object(a.jsx)("i",{className:"icofont-moon"})}),Object(a.jsx)("span",{className:"light",children:Object(a.jsx)("i",{className:"icofont-sun-alt"})})]}),Object(a.jsxs)("div",{className:"notification dropdown",children:[Object(a.jsx)("div",{className:"notify-bell",onClick:function(){return B(!C)},children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"icofont-alarm"})})}),C?Object(a.jsxs)("div",{className:"dropdown-menu dropdown-menu-right notification-list",children:[Object(a.jsx)("h4",{children:"Announcements"}),s.length>=1&&s.map((function(e,t){var s=e.publist,c=e.comments,o=e.authorJSON,i=e.buyerJSON,n=e.bookJSON;return Object(a.jsx)("div",{className:"lists",children:Object(a.jsx)("a",{href:"#",className:"",children:Object(a.jsxs)("div",{className:"d-flex align-items-center",children:[Object(a.jsx)("span",{className:"mr-3 icon success",children:Object(a.jsx)("i",{className:"icofont-check"})}),"Book Bought Ticker"===c?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:c}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:[i.first_name," ",i.last_name," Bought book ",n.name," from ",o.first_name," ",o.last_name," "]}),Object(a.jsx)("span",{children:s})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:c}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Bought book "}),Object(a.jsx)("span",{children:s})]})]})})})}))]}):null]}),Object(a.jsxs)("div",{className:"profile_log dropdown",children:[Object(a.jsxs)("div",{className:"user",onClick:function(){return x(!m)},children:[Object(a.jsx)("span",{className:"thumb",children:Object(a.jsx)("img",{src:F,alt:"profile"})}),Object(a.jsx)("span",{className:"arrow",children:Object(a.jsx)("i",{className:"icofont-angle-down"})})]}),m?Object(a.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[Object(a.jsx)("div",{className:"user-email",children:Object(a.jsxs)("div",{className:"user",children:[Object(a.jsx)("span",{className:"thumb",children:Object(a.jsx)("img",{src:F,alt:"profile"})}),Object(a.jsx)("div",{className:"user-info",children:Object(a.jsx)("span",{children:P})})]})}),Object(a.jsxs)(j.b,{to:"/profile",className:"dropdown-item",children:[Object(a.jsx)("i",{className:"icofont-ui-user"}),"Profile"]}),Object(a.jsxs)(j.b,{to:"/settings-profile",className:"dropdown-item",children:[Object(a.jsx)("i",{className:"icofont-ui-settings"}),"Settings"]}),Object(a.jsxs)("a",{className:"dropdown-item logout",onClick:function(){return localStorage.clear(),I(Object(r.f)()),I(Object(r.b)()),void(window.location.href="/")},children:[Object(a.jsx)("i",{className:"icofont-logout"})," Logout"]})]}):null]})]})]})})})})}),Object(a.jsx)(l.a,{})]})}},290:function(e,t,s){"use strict";t.a=s.p+"static/media/wof.5fdd26ec.pdf"},423:function(e,t,s){"use strict";s.r(t);var c=s(19),a=s(2),o=s(0),i=s.n(o),n=s(25),l=s(236),r=s(45),j=s(237),d=s(240),b=s(7),h=s(290),O=(s.p,s.p,s.p,s(351));t.default=Object(b.i)((function(e){var t=Object(o.useState)(null),s=Object(c.a)(t,2),b=s[0],u=s[1],m=Object(o.useState)(),x=Object(c.a)(m,2),g=x[0],p=x[1],f=Object(o.useState)(),N=Object(c.a)(f,2),v=N[0],k=N[1],S=Object(o.useState)(),w=Object(c.a)(S,2),y=w[0],C=w[1],B=Object(o.useState)(!1),I=Object(c.a)(B,2),F=(I[0],I[1],Object(o.useState)()),P=Object(c.a)(F,2),J=(P[0],P[1]);Object(o.useEffect)((function(){if(!b&&e.location.state){console.log("Props",e.location.state.bookId);var t=e.location.state.bookId;p(t),console.log("Data",g),l.a.get("/book/"+e.location.state.bookId+"/").then((function(e){200===e.status&&(console.log("Response",e.data),u(e.data),r.a.success("User Books Fetch Successful",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){J(e),console.error("Error",e),J("This Books Fetch Failed")}))}}),[]);var _=function(e,t,s){e.preventDefault();var c=localStorage.getItem("userId");console.log("ID:",c),l.a.post("/ownbook/",{Book:Number(t),user:Number(c),Own:"yes",referrer:Number(s)}).then((function(e){200===e.status&&(console.log("Response:",e.data),alert("Congratulations! You have bought new book."))})).catch((function(e){J(e),console.error("Error",e),J("This User Profile Fetch Failed")}))},T=function(e){for(var t=[],s=0;s<e;s++)t.push(Object(a.jsx)("button",{type:"button",className:"btn btn-warning btn-xs","aria-label":"Left Align",children:Object(a.jsx)("span",{children:Object(a.jsx)(O.a,{})})}));return t};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(d.a,{}),Object(a.jsx)(j.a,{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("head",{children:Object(a.jsx)(n.b,{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"})}),b?Object(a.jsxs)("main",{className:"container-bookdesc",children:[Object(a.jsx)("div",{className:"left-column-bookdesc",children:Object(a.jsx)("img",{className:"active",src:b.dp,alt:""})}),Object(a.jsxs)("div",{className:"right-column-bookdesc",children:[Object(a.jsxs)("div",{className:"product-description",children:[Object(a.jsx)("h2",{children:b.name}),Object(a.jsx)("h1",{children:b.authJSON.first_name}),Object(a.jsxs)("p",{children:["Description for the book: ",b.desc]})]}),Object(a.jsx)("div",{className:"product-configuration"}),Object(a.jsxs)("div",{className:"product-price",children:[Object(a.jsxs)("span",{children:[b.rate,"$"]}),Object(a.jsx)("a",{href:"#",className:"cart-btn",onClick:function(e){return _(e,b.id,b.authJSON.id)},children:"Buy Now"})]}),Object(a.jsx)("div",{}),Object(a.jsx)("a",{href:h.a,target:"_blank",className:"cart-btn read_online",children:"Read Preview"})]})]}):null,Object(a.jsx)("main",{children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-sm-7",children:Object(a.jsxs)("div",{className:"review-block",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("h2",{children:"Post Review"})}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("input",{className:"uploadbooktextbox",type:"text",placeholder:"Comment",name:"Comment",onChange:function(e){k(e.target.value)},required:!0}),Object(a.jsx)("input",{className:"uploadbooktextbox",type:"text",placeholder:"Stars",name:"Stars",onChange:function(e){C(e.target.value)},required:!0})]}),Object(a.jsx)("input",{className:"reviewsubmit",type:"submit",onClick:function(){return function(){var e=localStorage.getItem("userId");l.a.post("/bookcomments/",{user:e,Book:b.id,comments:v,ratings:y}).then((function(e){200===e.status&&(console.log("RESPONSE",e.data),r.a.success("User Profile Fetch Successful",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),window.location.reload(!1))})).catch((function(e){J(e),console.error("Error",e),J("This User Profile Fetch Failed")}))}()}})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),b&&b.CommentJSON.length>=1&&b.CommentJSON.map((function(e,t){var s=e.ratings,c=e.comments,o=e.AuthJSON,i=e.publist;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-sm-3",children:[Object(a.jsx)("img",{src:o.dp,style:{height:"40px"},className:"img-rounded"}),Object(a.jsx)("div",{className:"review-block-name",children:Object(a.jsx)("a",{href:"#",children:o.first_name})}),Object(a.jsx)("div",{className:"review-block-date",children:i})]}),Object(a.jsxs)("div",{className:"col-sm-9",children:[Object(a.jsx)("div",{className:"review-block-rate",children:T(s)}),Object(a.jsx)("div",{className:"review-block-title",children:c}),Object(a.jsx)("div",{className:"review-block-description",children:c})]})]})})),Object(a.jsx)("hr",{})]})})})})]})}))}}]);
//# sourceMappingURL=13.24be9697.chunk.js.map