(this.webpackJsonpBookstagram=this.webpackJsonpBookstagram||[]).push([[15],{236:function(e,t,c){"use strict";var s=c(62),a=c.n(s),l=localStorage.getItem("userToken"),i=a.a.create({baseURL:"http://40.80.95.65/store",headers:{Authorization:"token "+l}});t.a=i},237:function(e,t,c){"use strict";var s=c(2),a=(c(0),c(25)),l=c(7),i=c(63);t.a=Object(l.i)((function(){var e=localStorage.getItem("userType");return Object(s.jsxs)("div",{class:"sidebar",children:[Object(s.jsx)("div",{class:"brand-logo",children:Object(s.jsx)("a",{href:"index.html",children:Object(s.jsx)("img",{src:i.a,alt:"logo",height:"75px",width:"75px"})})}),Object(s.jsxs)("div",{class:"menu",children:["reader"==e?Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/home","data-toggle":"tooltip","data-placement":"right",title:"Home",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-ui-home"})})})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/my-books","data-toggle":"tooltip","data-placement":"right",title:"My book Shelf",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-library"})})})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/book-list","data-toggle":"tooltip","data-placement":"right",title:"List Of Books",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-book"})})})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/my-friends","data-toggle":"tooltip","data-placement":"right",title:"My Friends",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-ui-user-group"})})})}),Object(s.jsx)("li",{class:"logout",children:Object(s.jsx)("a",{href:"signin.html","data-toggle":"tooltip","data-placement":"right",title:"Signout",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-power"})})})})]}):Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/","data-toggle":"tooltip","data-placement":"right",title:"Home",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-ui-home"})})})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/uploadbook","data-toggle":"tooltip","data-placement":"right",title:"upload a book",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-library"})})})}),Object(s.jsx)("li",{class:"logout",children:Object(s.jsx)("a",{href:"signin.html","data-toggle":"tooltip","data-placement":"right",title:"Signout",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{class:"icofont-power"})})})})]}),Object(s.jsxs)("p",{class:"copyright",children:["\xa9 ",Object(s.jsx)("a",{href:"#",children:"Bookstagram INC"})]})]})]})}))},239:function(e,t,c){"use strict";c.p},240:function(e,t,c){"use strict";var s=c(19),a=c(2),l=c(0),i=c.n(l),r=c(34),o=(c(239),c(237)),n=c(15),j=c(25),d=c(236),b=c(45);Object.size=function(e){var t,c=0;for(t in e)e.hasOwnProperty(t)&&c++;return c};t.a=function(){JSON.parse(localStorage.getItem("userData"));var e=Object(l.useState)([]),t=Object(s.a)(e,2),c=t[0],h=t[1],m=Object(l.useState)(!1),O=Object(s.a)(m,2),x=O[0],u=O[1],f=Object(l.useState)(),g=Object(s.a)(f,2),p=(g[0],g[1]),N=Object(l.useState)(),v=Object(s.a)(N,2),S=v[0],y=v[1],w=Object(l.useState)(!1),k=Object(s.a)(w,2),C=k[0],I=k[1],B=Object(r.b)(),P=(Object(r.c)((function(e){return e})),localStorage.getItem("dp")),F=localStorage.getItem("email");Object(l.useEffect)((function(){void 0!=localStorage.getItem("notification")?y(localStorage.getItem("notification")):y(0),U()}),[S]);var U=function(){var e=localStorage.getItem("userId");d.a.get("/userfeed/?pk="+e,{notify_type:"Ticker Notification"}).then((function(e){200===e.status&&(console.log("Response",Object.size(e.data)),h(e.data),b.a.success("User Books Fetch Successful",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),console.log("Notify",S),localStorage.setItem("notification",Object.size(e.data)-S)})).catch((function(e){p(e),console.error("Error",e),p("This Books Fetch Failed")}))};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-xxl-12",children:Object(a.jsxs)("div",{className:"header-content",children:[Object(a.jsxs)("div",{className:"header-right",children:[Object(a.jsx)("div",{className:"brand-logo",children:Object(a.jsxs)("a",{href:"index.html",children:[Object(a.jsx)("img",{src:"./images/logo.png",alt:""}),Object(a.jsx)("span",{children:"Bookstagram"})]})}),Object(a.jsx)("div",{className:"search",children:Object(a.jsx)("form",{action:"#",children:Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Here"}),Object(a.jsx)("span",{className:"input-group-text",children:Object(a.jsx)("i",{className:"icofont-search"})})]})})})]}),Object(a.jsxs)("div",{className:"header-right",children:[Object(a.jsxs)("div",{className:"dark-light-toggle",onclick:function(){return console.log("Toggle Clicked")},children:[Object(a.jsx)("span",{className:"dark",children:Object(a.jsx)("i",{className:"icofont-moon"})}),Object(a.jsx)("span",{className:"light",children:Object(a.jsx)("i",{className:"icofont-sun-alt"})})]}),Object(a.jsxs)("div",{className:"notification dropdown",children:[Object(a.jsx)("div",{className:"notify-bell",onClick:function(){return I(!C)},children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"icofont-alarm"})})}),C?Object(a.jsxs)("div",{className:"dropdown-menu dropdown-menu-right notification-list",children:[Object(a.jsx)("h4",{children:"Announcements"}),c.length>=1&&c.map((function(e,t){var c=e.publist,s=e.comments,l=e.authorJSON,i=e.buyerJSON,r=e.bookJSON;return Object(a.jsx)("div",{className:"lists",children:Object(a.jsx)("a",{href:"#",className:"",children:Object(a.jsxs)("div",{className:"d-flex align-items-center",children:[Object(a.jsx)("span",{className:"mr-3 icon success",children:Object(a.jsx)("i",{className:"icofont-check"})}),"Book Bought Ticker"===s?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:s}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:[i.first_name," ",i.last_name," Bought book ",r.name," from ",l.first_name," ",l.last_name," "]}),Object(a.jsx)("span",{children:c})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:s}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Bought book "}),Object(a.jsx)("span",{children:c})]})]})})})}))]}):null]}),Object(a.jsxs)("div",{className:"profile_log dropdown",children:[Object(a.jsxs)("div",{className:"user",onClick:function(){return u(!x)},children:[Object(a.jsx)("span",{className:"thumb",children:Object(a.jsx)("img",{src:P,alt:"profile"})}),Object(a.jsx)("span",{className:"arrow",children:Object(a.jsx)("i",{className:"icofont-angle-down"})})]}),x?Object(a.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[Object(a.jsx)("div",{className:"user-email",children:Object(a.jsxs)("div",{className:"user",children:[Object(a.jsx)("span",{className:"thumb",children:Object(a.jsx)("img",{src:P,alt:"profile"})}),Object(a.jsx)("div",{className:"user-info",children:Object(a.jsx)("span",{children:F})})]})}),Object(a.jsxs)(j.b,{to:"/profile",className:"dropdown-item",children:[Object(a.jsx)("i",{className:"icofont-ui-user"}),"Profile"]}),Object(a.jsxs)(j.b,{to:"/settings-profile",className:"dropdown-item",children:[Object(a.jsx)("i",{className:"icofont-ui-settings"}),"Settings"]}),Object(a.jsxs)("a",{className:"dropdown-item logout",onClick:function(){return localStorage.clear(),B(Object(n.f)()),B(Object(n.b)()),void(window.location.href="/")},children:[Object(a.jsx)("i",{className:"icofont-logout"})," Logout"]})]}):null]})]})]})})})})}),Object(a.jsx)(o.a,{})]})}},284:function(e,t,c){"use strict";function s(e,t,c,s,a,l,i){try{var r=e[l](i),o=r.value}catch(n){return void c(n)}r.done?t(o):Promise.resolve(o).then(s,a)}function a(e){return function(){var t=this,c=arguments;return new Promise((function(a,l){var i=e.apply(t,c);function r(e){s(i,a,l,r,o,"next",e)}function o(e){s(i,a,l,r,o,"throw",e)}r(void 0)}))}}c.d(t,"a",(function(){return a}))},411:function(e,t,c){"use strict";c.r(t);var s=c(19),a=c(13),l=c.n(a),i=c(284),r=c(2),o=c(0),n=c.n(o),j=(c(34),c(237)),d=c(240),b=c(45),h=(c(239),c(236));c(100);t.default=function(){Object(o.useEffect)(Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));var e=Object(o.useState)({}),t=Object(s.a)(e,2),c=t[0],a=t[1],m=Object(o.useState)(),O=Object(s.a)(m,2),x=O[0],u=O[1],f=Object(o.useState)(),g=Object(s.a)(f,2),p=g[0],N=g[1],v=Object(o.useState)(),S=Object(s.a)(v,2),y=S[0],w=S[1],k=Object(o.useState)(),C=Object(s.a)(k,2),I=C[0],B=C[1],P=Object(o.useState)(),F=Object(s.a)(P,2),U=F[0],E=F[1],_=Object(o.useState)(),T=Object(s.a)(_,2),H=T[0],J=T[1],R=Object(o.useState)(),z=Object(s.a)(R,2),D=z[0],L=z[1],A=Object(o.useState)(),M=Object(s.a)(A,2),q=M[0],G=M[1],K=Object(o.useState)(),Q=Object(s.a)(K,2),V=Q[0],W=Q[1],X=Object(o.useState)(),Y=Object(s.a)(X,2),Z=(Y[0],Y[1]),$=Object(o.useState)(!1),ee=Object(s.a)($,2),te=ee[0],ce=ee[1];Object(o.useEffect)((function(){N(localStorage.getItem("dp")),se()}),[]);var se=function(){var e=localStorage.getItem("userId");console.log("UserId",e),h.a.get("/user/"+e+"/").then((function(e){200===e.status&&(console.log("RESPONSE",e),a(e.data),B(e.data.username),w(e.data.password),u(e.data.email),E(e.data.contact),L(e.data.first_name),J(e.data.country),G(e.data.last_name),W(e.data.usertype),b.a.success("User Profile Fetch Successful",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){Z(e),console.error("Error",e),Z("This User Profile Fetch Failed")}))};return Object(r.jsxs)(n.a.Fragment,{children:[Object(r.jsx)(d.a,{}),Object(r.jsx)(j.a,{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"content-body",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsxs)("div",{className:"col-xxl-12 col-xl-12",children:[Object(r.jsx)("div",{className:"page-title",children:Object(r.jsx)("h4",{children:"Profile"})}),Object(r.jsx)("div",{className:"card",children:Object(r.jsx)("div",{className:"card-body",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-xxl-6 col-xl-6 col-lg-6",children:Object(r.jsxs)("div",{className:"card",children:[Object(r.jsxs)("div",{className:"card-header",children:[te?Object(r.jsx)("h4",{className:"card-title",style:{color:"blue"},children:"Update Successful"}):null,Object(r.jsx)("h4",{className:"card-title",children:"User Profile"})]}),Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("form",{action:"#",children:Object(r.jsxs)("div",{className:"row g-3",children:[Object(r.jsxs)("div",{className:"col-xxl-12",children:[Object(r.jsx)("label",{className:"form-label",children:"User Name"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"username",value:I,onChange:function(e){B(e.target.value)}})]}),Object(r.jsx)("div",{className:"col-xxl-12",children:Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("img",{className:"mr-3 rounded-circle mr-0 mr-sm-3",src:p,width:"55",height:"55",alt:""}),Object(r.jsxs)("div",{className:"media-body",children:[Object(r.jsx)("h4",{className:"mb-0",children:I}),Object(r.jsx)("p",{className:"mb-0",children:"Max file size is 20mb"})]})]})}),Object(r.jsx)("div",{className:"col-xxl-12",children:Object(r.jsxs)("div",{className:"form-file",children:[Object(r.jsx)("input",{type:"file",className:"form-file-input",id:"customFile",onChange:function(e){!function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;t.onload=function(e){N(e.target.result)},t.readAsDataURL(e.target.files[0])}}(e)}}),Object(r.jsxs)("label",{className:"form-file-label",for:"customFile",children:[Object(r.jsx)("span",{className:"form-file-text",children:"Choose file..."}),Object(r.jsx)("span",{className:"form-file-button",children:"Browse"})]})]})})]})})})]})}),Object(r.jsx)("div",{className:"col-xxl-6 col-xl-6 col-lg-6",children:Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("div",{className:"card-header",children:Object(r.jsx)("h4",{className:"card-title",children:"User Profile"})}),Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("form",{action:"#",children:Object(r.jsxs)("div",{className:"row g-3",children:[Object(r.jsxs)("div",{className:"col-xxl-12",children:[Object(r.jsx)("label",{className:"form-label",children:"New Email"}),Object(r.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",value:x,onChange:function(e){u(e.target.value)}})]}),Object(r.jsxs)("div",{className:"col-xxl-12",children:[Object(r.jsx)("label",{className:"form-label",children:"New Password"}),Object(r.jsx)("input",{type:"password",className:"form-control",placeholder:"**********",onChange:function(e){w(e.target.value)}})]})]})})})]})}),Object(r.jsx)("div",{className:"col-xxl-12",children:Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("div",{className:"card-header",children:Object(r.jsx)("h4",{className:"card-title",children:"Personal Information"})}),Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("form",{method:"post",name:"myform",className:"personal_validate",novalidate:"novalidate",children:Object(r.jsxs)("div",{className:"row g-4",children:[Object(r.jsxs)("div",{className:"col-xxl-6 col-xl-6 col-lg-6",children:[Object(r.jsx)("label",{className:"form-label",children:"Contact Number"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"+91",name:"contact",value:U,onChange:function(e){E(e.target.value)}})]}),Object(r.jsxs)("div",{className:"col-xxl-6 col-xl-6 col-lg-6",children:[Object(r.jsx)("label",{className:"form-label",children:"First Name"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Dishant",name:"firstname",value:D,onChange:function(e){L(e.target.value)}})]}),Object(r.jsxs)("div",{className:"col-xxl-6 col-xl-6 col-lg-6",children:[Object(r.jsx)("label",{className:"form-label",children:"Last Name"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Shah",name:"lastname",value:q,onChange:function(e){G(e.target.value)}})]}),Object(r.jsxs)("div",{className:"col-xxl-6 col-xl-6 col-lg-6",children:[Object(r.jsx)("label",{className:"form-label",children:"Country"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"India",name:"country",value:H,onChange:function(e){J(e.target.value)}})]}),Object(r.jsxs)("div",{className:"col-xxl-6 col-xl-6 col-lg-6",children:[Object(r.jsx)("label",{className:"form-label",children:"User Type"}),Object(r.jsx)("input",{type:"text",className:"form-control",name:"usertype",value:V,onChange:function(e){W(e.target.value)}})]}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("button",{className:"btn btn-success pl-5 pr-5 waves-effect",onClick:function(e){return function(e){e.preventDefault();var t=localStorage.getItem("userId");console.log("UserId",t),h.a.put("/user/"+t+"/",{user:c.user,username:I,password:y,country:H,email:x,contact:U,first_name:D,last_name:q,usertype:V,dp:p}).then((function(e){200===e.status&&(console.log("Response",e),b.a.success("Update Successful",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log("Dp-changes",p),localStorage.setItem("dp",p),ce(!0),window.location.reload(!1))})).catch((function(e){console.error("Error",e),Z("This Email is already registered on the platform")}))}(e)},children:"Save"})})]})})})]})})]})})})]})})})})]})}}}]);
//# sourceMappingURL=15.24b7a85e.chunk.js.map